{{- $opts := dict "output" "mathml" "displayMode" (eq .Type "block") -}}

{{- with try (transform.ToMath .Inner $opts) -}}
  {{- with .Err -}}
    {{- warnf "Unable to render mathematical markup to HTML using the transform.ToMath function. The KaTeX display engine threw the following error: %s: see %s." . $.Position -}}
  {{- else -}}
    {{- .Value -}}
  {{- end -}}
{{- end -}}
